\solutionheader{2017 Regional Round}
\begin{question}
    The four digit number $\overline{ABCD}$ is such that $\overline{ABCD} = A
    \times \overline{BCD} + \overline{ABC} \times D$. Find the smallest
    possible value of $\overline{ABCD}$. (Here $\overline{ABCD}$ means $1000
    \times A + 100 \times B + 10 \times C + D$.)
\end{question}
\begin{solution}
    The key here is that we only need to find the smallest value of
    $\overline{ABCD}$. So let $A = 1$. Then
    \[ \overline{1BCD} = \overline{BCD} + \overline{1BC} \cdot D \Longrightarrow 1000 = \overline{1BC} \cdot D. \]
    Since $D < 10$, $D$ can only be 2, 4, 5 or 8. In these 4 cases, it is easy
    to see that only 8 gives solutions $B = 2$ and $C = 5$. Therefore, 1258 is
    the only number starting with 1 that satisfies the given equation. Since
    the next number that also satifies the equation must start with 2, this
    must be the smallest value of $\overline{ABCD}$.  
\end{solution}

\begin{question}
    Find the remainder when 20172017201720172017201720172017 is divided by 72.
\end{question}
\begin{solution}
    Consider the number $N = 20172017201720172017201720172000$. Since the last
    three digits of this number are all zeroes, $N$ must be divisible by 8.
    Also since the sum of digits of $N$ is divisible by 9, $N$ must be
    divisible by 9. Since 8 and 9 are relatively prime, by lemma \ref{lem:
    weakCRT}, it follows that $N$ is divisible by 72. Therefore, $N + 17$
    leaves a remainder of 17 when divided by 72.
\end{solution}

\begin{question}
    Show that for all real numbers $x$, $y$, $z$ and $w$, 
    \[\sin(x - w)\sin(y - z) + \sin(y - w)\sin(z - x) + \sin(z - w)\sin(x - y) = 0.\]
\end{question}
\begin{solution}
    Remember the indentity
    \[ \sin a \sin b = \frac{1}{2}(\cos (a - b) - \cos (a + b)). \]
    Applying this to the left hand side gives
    \begin{align*}
        \MoveEqLeft
    \sin(x - w)\sin(y - z) + \sin(y - w)\sin(z - x) + \sin(z - w)\sin(x - y)\\
        & = \begin{multlined}[t] 
            \frac{1}{2}(\cos(x + z - y - w) - \cos(x + y - z - w) + \cos (x + y - z - w)\\
            - \cos(y + z - x - w) + \cos(y + z - x - w) - \cos(x + z - y - w))
            \end{multlined}\\
        & = 0. \qedhere
    \end{align*}
\end{solution}

\begin{question}
    Two circles intersect at $A$ and $B$. A common tangent to the circles
    touches the circles at $P$ and $Q$. A circle is drawn through $P$, $Q$ and
    $A$, and the line $BA$ produced meets this circle again at $C$. Join $CP$
    and $CQ$, and extend both to meet the given circles at $E$ and $F$
    respectively. Prove that $P$, $Q$, $E$, $F$ are concyclic. 
\end{question}
\begin{solution}
    Since $PABE$ and $QABF$ are cyclic,
    \[ CP \cdot CE = CA \cdot CB = CQ \cdot CF, \]
    and so $P$, $Q$, $E$, $F$ are concyclic.
    \begin{center}
        \begin{asy}
            import olympiad;
            size(7cm);
            defaultpen(fontsize(11pt));
            pen mydash = linetype(new real[] {5,5});
            usepackage("contour", "outline");
            texpreamble("\contourlength{1pt}");
            pair A = (0, 1);
            pair B = (0, -1);
            pair P = (-2, 1.5);
            pair O1 = circumcenter(A, B, P);
            pair M = extension(P, rotate(90, P)*O1, A, B);
            pair Q = 2*M - P;
            pair O2 = circumcenter(A, B, Q);
            pair C = 2*foot(circumcenter(Q, A, P), A, B) - A;
            pair E = 2*foot(O1, C, P) - P;
            pair F = 2*foot(O2, C, Q) - Q;
            draw(circle(O1, abs(O1 - A)));
            draw(circle(O2, abs(O2 - A)));
            draw(circumcircle(Q, A, P));
            draw(E--C--F);
            draw(C--B);
            draw(Q--P);
            draw(circumcircle(P, Q, E), mydash);
            dot("\contour{white}{$A$}", A, dir(90));
            dot("\contour{white}{$B$}", B, dir(270));
            dot("$C$", C, dir(90));
            dot("$P$", P, dir(180));
            dot("$Q$", Q, dir(45));
            dot("$E$", E, dir(200));
            dot("$F$", F, dir(315));
            clip(currentpicture, (8, 7)--(8, -4)--(-4, -4)--(-4, 7)--cycle);
        \end{asy}
    \end{center}
\end{solution}

\begin{question}
    If $x \geq 1$, prove that $x^3 - 5x^2 + 8x - 4 \geq 0$.
\end{question}
\begin{solution}
    Since $x - 1 \geq 0$, 
    \begin{align*}
        x^3 - 5x^2 + 8x - 4 &= x^3 - x^2 - 4x^2 + 8x - 4\\
        &= x^2(x - 1) - 4(x - 1)^2\\
        &= (x - 1)(x^2 - 4x + 4)\\
        &= (x - 1)(x - 2)^2\\
        & \geq 0. \qedhere
    \end{align*}
\end{solution}

\begin{question}
    Let $u_{1}, u_{2}, u_{3}, \ldots$ be a sequence of real numbers such that
    $u_{1} > 2$ and 
    \[u_{n + 1} = 1 + \frac{2}{u_{n}}\] 
    for $n \geq 1$. Prove that $u_{2n - 1} + u_{2n} > 4$ for all $n \geq 1$.
\end{question}
\begin{solution}
    We will first prove by induction that $u_{2n - 1} > 2$ for all $n$. The
    base case $n = 1$ is given to be true, so suppose that this is true for $n
    = k$. Then 
    \begin{align*}
        u_{2k} &= 1 + \frac{2}{u_{2k - 1}} < 1 + 1 = 2\\
        u_{2k + 1} &= 1 + \frac{2}{u_{2k}} > 1 + 1 = 2.
    \end{align*}
    so this is also true for $n = k + 1$. Hence by induction, $u_{2n - 1} > 2$
    for all $n \in \mathbb{N}$. 

    Now the given inequality is equivalent to
    \begin{align*}
        u_{2n - 1} + u_{n} &> 4\\
        u_{2n - 1} + 1 + \frac{2}{u_{2n - 1}} &> 4\\
        u_{2n - 1}^2 + 2 &> 3u_{2n - 1}\\
        (u_{2n - 1} - 2)(u_{2n - 1} - 1) &> 0
    \end{align*}
    which is true as $u_{2n - 1} > 2$.
\end{solution}

\begin{question}
    Let $a$, $b$, $c$ be positive numbers such that $ab + bc + ca + abc = 4$.
    Prove that 
    \[\frac{1}{a + 2} + \frac{1}{b + 2} + \frac{1}{c + 2} = 1\]
    and
    \[a + b + c \geq 3.\]
    (You can use the following result: If $x$, $y$, $z$ are positive numbers,
    then $\frac{x + y + z}{3} \geq \sqrt[3]{xyz}$.)
\end{question}
\begin{solution}
    First, add $a + b + c + 1$ to both sides to get
    \begin{align*}
        1 + a + b + c + ab + bc + ca + abc &= a + b + c + 5\\
        \intertext{We can factorize the left hand side as follows.}
        (a + 1)(b + 1)(c + 1) &= a + b + c + 5\\
        \intertext{Now let $u = a + 2$, $v = b + 2$, and $w = c + 2$. Then this
        can be rewritten as}
        (u - 1)(v - 1)(w - 1) &= u + v + w - 1\\
        uvw - uv - vw - uw + u + v + w - 1 &= u + v + w - 1\\
        uvw &= uv + vw + uv\\
        \frac{1}{u} + \frac{1}{v} + \frac{1}{w} &= 1\\
        \frac{1}{a + 2} + \frac{1}{b + 2} + \frac{1}{c + 2} &= 1
    \end{align*}
    which is what we wanted. Now applying the AM - HM inequality gives us
    \[\frac{u + v + w}{3} \geq \frac{3}{\frac{1}{u} + \frac{1}{v} + \frac{1}{w}} = \frac{3}{1} = 3.\] 
    Hence, 
    \[u + v + w \geq 9 \Longleftrightarrow a + b + c \geq 3. \qedhere\]
\end{solution}

\begin{question}
    On each side of a triangle, there are 4 distinct points other than
    triangle's vertices. Determine the number of triangles having the vertices
    at 3 of these 12 points.
\end{question}
\begin{solution}
    There are two different types of triangles we have to count: 
    \begin{enumerate*}[label=(\arabic*)]
        \item triangles with all three vertices on different edges, and

        \item triangles with exactly two vertices on the same edge.
    \end{enumerate*}

    Let's count the number of triangles of the first type. There are 4 ways to
    choose a vertex on each edge of the given triangle, and there are 3 edges
    so the number of triangles of type 1 is $4 \times 4 \times 4 = 64$.

    Now let's count the number of triangles of the second type. There are three
    edges for which those two vertices can lie on. Out of 4 vertices on that
    edge, there are 6 ways to choose the 2 vertices of the triangle. Finally
    the remaining vertex of the triangle can be chosen from the remaining 8
    vertices of the given triangle. Hence the total number of triangles of type
    2 is $3 \times 6 \times 8 = 144$. 
    
    Therefore, the total number of triangles is $64 + 144 = 208$. 
\end{solution}

\begin{question}
    Two red dice and one blue die are thrown. What is the probability that the
    sum of the scores on the red dice is equal to the score on the blue die? 
\end{question}
\begin{solution}
    Let the ordered pair $(x, y, z)$ denote the dice throw where $x$, $y$ and
    $z$ are numbers on the first red die, second red die and the blue die
    respectively. Now there are 6 possibilties for each of $x$, $y$ and $z$, so
    the total number of such ordered pairs is $6^3 = 216$. We need to find the
    number of ordered pairs $(x, y, z)$ such that $x + y = z$. If $z = k$, then
    $x$ can range from 1 to $k - 1$. Notice that the value of $y$ is determined
    once we choose $x$ and $z$, so there are $k - 1$ pairs such that $x + y =
    k$. Since $z$ can range from 1 to 6, this means that there are a total of
    \[ 0 + 1 + 2 + 3 + 4 + 5 = 15 \]
    ordered pairs such that $x + y = z$. Therefore, the probability that $x + y
    = z$ is $\frac{15}{216} = \frac{5}{72}$. 
\end{solution}

\begin{question}
    $N$ is a two-digit number and $2N$ also has two digits. If $N$ equals 2
    times the sum of digits of $2N$, find all possible values of $N$.
\end{question}
\begin{solution}
    Suppose that $2N = 10a + b$. Then the problem condition gives
    \[ 2(a + b) = \frac{1}{2}(10a + b) \Longrightarrow 2a = b. \]
    Since $b$ is an even integer, $b$ can only be 2, 4, 6 or 8. Checking these
    values, we see that only $b = 2$ causes $N$ to be a one-digit number so we
    can discard it. Thus the possible values of $N$ are 12, 18 and 24.
\end{solution}
\begin{question}
    In the figure, $AD \parallel BC$, $AB = BC = CD = \frac{1}{2}AD$ and
    $\triangle APD$ is equilateral. $BP$ and $CP$ cut $AD$ at $Q$ and $R$
    respectively. If the area of $\triangle APD$ is 12, find the area of the
    trapezium $BQRC$.
\end{question}
\begin{solution}
    Let $M$ be the midpoint of segment $AD$. Then $AM = BC$, so $AMCB$ is a
    parallelogram. Therefore, $MD = CD = AB = MC$, so $\triangle MCD$ is
    equilateral. Similarly, $\triangle MAB$ is also equilateral.
    \begin{center}
        \begin{asy}
            import olympiad;
            size(7cm);
            defaultpen(fontsize(11pt));
            pen mydash = linetype(new real[] {5,5});
            pair A = dir(180);
            pair B = dir(240);
            pair C = dir(300);
            pair D = dir(0);
            pair T = extension(A, B, C, D);
            pair M = (0, 0);
            pair P = 2*M - T;
            pair Q = extension(P, B, A, D);
            pair R = extension(P, C, A, D);
            draw(A--B--C--D--cycle);
            draw(A--P--D);
            draw(B--P--C);
            draw(B--T--C);
            draw(B--M--C);
            dot("$A$", A, dir(A));
            dot("$B$", B, dir(B));
            dot("$C$", C, dir(C));
            dot("$D$", D, dir(D));
            dot("$T$", T, dir(270));
            dot("$P$", P, dir(90));
            dot("$Q$", Q, dir(135));
            dot("$R$", R, dir(45));
            dot("$M$", M, dir(90));
        \end{asy}
    \end{center}
    Let lines $AB$ and $CD$ intersect at $T$. Then as $\angle TAD = \angle TDA
    = 60^\circ$, it follows that $\triangle TAD$ is equilateral too. This means
    that $\triangle APD \cong \triangle ATD$. It is also easy to see that $B$
    and $C$ are midpoints of $AT$ and $BT$. 
    
    Now notice that $\triangle ABP$ and $\triangle TBP$ have the same area
    because $B$ is the midpoint of $AT$. Similarly, $\triangle DCP$ and
    $\triangle TCP$ have the same area. Hence the area of quadrilateral $PBTC$
    is half the area of quadrilateral $PATD$, which is equal to 12. Meanwhile
    the area of $\triangle BCT$ is a quarter of the area of $\triangle TAD$, so
    it is equal to 3. Hence the area of $\triangle PBC$ is $12 - 3 = 9$. 
    
    Since $QR \parallel BC$, $\triangle PQR \sim \triangle PBC$. As the ratio
    of their heights is $2 : 3$, the ratios of their areas must be $4 : 9$, and
    hence $\triangle PQR$ has area 4. Finally, the area of quadrilateral $BCRQ$
    is $9 - 4 = 5$.
\end{solution}

\begin{question}
    \begin{enumerate}
        \item Show that $\frac{1}{1 \times 2} + \frac{1}{2 \times 3} +
            \frac{1}{3 \times 4} + \cdots + \frac{1}{(n - 1)n} = \frac{n -
            1}{n}$ for $n \geq 2$. 
        
        \item Show that for every integer $n \geq 2$, there exist positive
            integers $x_{1}, x_{2}, x_{3}, \ldots, x_{n}$ so that 
        \[ \frac{1}{x_{1}} + \frac{1}{x_{2}} + \frac{1}{x_{3}} + \cdots +
        \frac{1}{x_{n}} = 1.\] 
    \end{enumerate}
\end{question}
\begin{solution}
    It is easy to see that in general the $n$th term has the form $\frac{1}{n(n
    + 1)}$. By partial fractions,
    \[ \frac{1}{n(n + 1)} = \frac{n + 1 - n}{n(n + 1)} = \frac{1}{n} -
    \frac{1}{n + 1}. \]
    Therefore, the sum is 
    \begin{align*}
        \frac{1}{1 \times 2} + \frac{1}{2 \times 3} + \cdots + \frac{1}{(n - 1)n} &= 1 - \frac{1}{2} + \frac{1}{2} - \frac{1}{3} + \cdots + \frac{1}{n - 1} - \frac{1}{n}\\
        &= 1 - \frac{1}{n}\\
        &= \frac{n - 1}{n}. 
    \end{align*}
    Now take $x_i = \frac{1}{i(i + 1)}$ for $1 \leq i \leq n - 1$. Finally,
    take $x_n = \frac{1}{n}$. Then from the above, we have
    \[ \frac{1}{x_1} + \frac{1}{x_2} + \cdots + \frac{1}{x_n} = 1 \]
    as desired.
\end{solution}
\begin{remark}
    You can also take $x_1 = x_2 = \cdots = x_n = n$ for the second part.
    Unfortunately, there isn't a good way to fix the problem so that it does
    not include trivial solutions.
\end{remark}

\begin{question}
    Let $a$, $b$, $c$, $d$, $e$ be five prime numbers forming an arithmetic
    progression with a common difference of 6. Find the smallest possible value
    of $a + b + c + d + e$. 
\end{question}
\begin{solution}
    It is easy to see that 5, 11, 17, 23, 29 is such an arithmetic progression.
    In this case, $a + b + c + d + e = 85$. Now suppose that $a$ is lower than
    5. Then it must be either 2 or 3. But when $a = 2$, $b = 8$ is not a prime,
    and when $a = 3$, $b = 9$ is also not a prime, Hence $a$ is at least 5,
    which means that 85 is indeed the minimum value of $a + b + c + d + e$.
\end{solution}
\begin{remark}
    In fact, we can even show that 5, 11, 17, 23, 29 is the only such AP.
    Observe that $a, b, c, d, e \equiv a, a + 1, a + 2, a + 3, a + 4 \pmod{5}$.
    This means that one of them must be divisible by 5 and since all of them
    are primes, this means that it must be equal to 5. However, $b$, $c$, $d$
    and $e$ are all greater than 5, so $a = 5$. 
\end{remark}

\begin{question}
    Function $f:\mathbb{R} \rightarrow \mathbb{R}$ satisfies 
    \[(a - b)f(a + b) + (b - c)f(b + c) + (c - a)f(c + a) = 0,\] 
    for all $a, b, c \in \mathbb{R}$. For $x \in \mathbb{R}$, letting $a =
    \frac{1}{2}(x - 1)$, $b = \frac{1}{2}(x + 1)$ and $c = \frac{1}{2}(1 - x)$,
    show that $f(x) = Ax + B$ where $A = f(1) - f(0)$ and $B = f(0)$.
    Conversely, show that the function $f:\mathbb{R} \rightarrow \mathbb{R}$
    defined by $f(x) = Ax + B$ satisfies the given equation. 
\end{question}
\begin{solution}
    Letting $a = \frac{1}{2}(x - 1)$, $b = \frac{1}{2}(x + 1)$ and $c =
    \frac{1}{2}(1 - x)$, we see that
    \begin{align*}
        (a - b)f(a + b) + (b - c)f(b + c) + (c - a)f(c + a) &= 0\\
        -f(x) + xf(1) + (1 - x)f(0) &= 0\\
        f(x) &= x(f(1) - f(0)) + f(0)\\
        &= Ax + B.
    \end{align*}
    where $A = f(1) - f(0)$ and $B = f(0)$. Now suppose that $f(x) =  Ax + B$
    for some constants $A$ and $B$. Then
    \begin{align*}
        \MoveEqLeft
    (a - b)f(a + b) + (b - c)f(b + c) + (c - a)f(c + a)\\
        &= (a - b)(A(a + b) + B) + (b - c)(A(b + c) + B) + (c - a)(A(c + a) + B)\\
        &= A(a^2 - b^2) + Ba - Bb + A(b^2 - c^2) + Bb - Bc + A(c^2 - a^2) + Bc - Ba\\
        &= 0. \qedhere
    \end{align*}
\end{solution}

\begin{question}
    In a trapezium $ABCD$, with $AB \parallel CD$, there are two circles with
    diameter $AD$ and $BC$ respectively. Two circles do not intersect each
    other. Let $X$ and $Y$ which do not lie in $ABCD$ be two points on each of
    the circles. Show that 
    \[XY \leq \frac{1}{2}(AD + AB + DC + BC).\]
\end{question}
\begin{solution}
    Let $M$ and $N$ be the midpoints of $AD$ and $BC$. Then by triangle
    inequality,
    \[ XY \leq XN + NY \leq XM + MN + NY. \]
    We also have to include equality cases too, as triangles can be degenerate.
    Anyway, since $MN = \frac{1}{2}(AB + DC)$, the right hand side is
    equivalent to 
    \[ XM + MN + NY = \frac{1}{2}(AD + AB + DC + BC), \]
    which is exactly what we wanted.
\end{solution}
\begin{center}
    \begin{asy}
        import olympiad;
        import olympiad;
        size(7cm);
        defaultpen(fontsize(11pt));
        pen mydash = linetype(new real[] {5,5});
        pair A = (-1, 0);
        pair B = (1, 0);
        pair C = (1.5, -1.5);
        pair D = (-1.3, -1.5);
        pair M = midpoint(A--D);
        pair N = midpoint(B--C);
        real x = 120;
        real y = 315;
        pair X = M + abs(M-A)*dir(x);
        pair Y = N + abs(N-B)*dir(y);
        draw(A--B--C--D--cycle, black+1);
        draw(X--M--N--Y);
        draw(X--Y, mydash);
        draw(X--N);
        draw(circle(M, abs(M-A)));
        draw(circle(N, abs(N-B)));
        dot("$A$", A, dir(90));
        dot("$B$", B, dir(90));
        dot("$C$", C, dir(270));
        dot("$D$", D, dir(270));
        dot("$M$", M, dir(180));
        dot("$N$", N, dir(45));
        dot("$X$", X, dir(x));
        dot("$Y$", Y, dir(y));
    \end{asy}
\end{center}
\begin{question}
    If $\alpha$, $\beta$ and $\gamma$ are roots of the equation $x^3 + ax^2 +
    bx + c = 0$, evaluate $\alpha^2 + \beta^2 + \gamma^2$ and $\alpha^3 +
    \beta^3 + \gamma^3$.
\end{question}
\begin{solution}
    By \hyperref[thm: vieta]{Vieta's formulas}, 
    \begin{align*}
        \alpha + \beta + \gamma &= -a,\\
        \alpha\beta + \beta\gamma + \gamma\alpha &= b,\\
        \alpha\beta\gamma &= -c.
    \end{align*} 
    We can now calculate both of the quantities. First,
    \[ \alpha^2 + \beta^2 + \gamma^2 = (\alpha + \beta + \gamma)^2 - 2(\alpha\beta + \beta\gamma + \gamma\alpha) = a^2 - 2b. \]
    Next,
    \begin{align*}
        \alpha^3 + \beta^3 + \gamma^3 
        &= (\alpha + \beta + \gamma)(\alpha^2 + \beta^2 + \gamma^2 - \alpha\beta - \beta\gamma - \gamma\alpha) + 3\alpha\beta\gamma\\
        &= (-a)(a^2 - 2b - b) -3c\\
        &= -a^3 + 3ab - 3c. \qedhere
    \end{align*}
\end{solution}

\begin{question}
    Prove by mathematical induction, that $3^{2n} + 7$ is divisible by 8 for
    all $n \geq 1$.
\end{question}
\begin{solution}
    For the base case $n = 1$, it is easy to see that $3^2 + 7$ is divisible by
    8. Now assume that $3^{2k} + 7$ is divisible by 8. Then
    \begin{align*}
        3^{2(k + 1)} + 7 
        &= 9(3^{2k}) + 7\\
        &= 9(3^{2k}) + 63 + 7 - 63\\
        &= 9(3^{2k} + 7) - 56.
    \end{align*}
    Since both $3^{2k} + 7$ and 56 are both divisible by 8, it follows that
    $3^{2(k + 1)} + 7$ is also divisible by 8. Therefore, by mathematical
    induction, $3^{2n} + 7$ is divisible by 8 for all natural numbers $n$.
\end{solution}

\begin{question}
    Each vertex of convex polygon $ABCDE$ is to be assigned a colour. There are
    6 colours and the ends of each diagonal must have different colours. How
    many different colourings are possible?
\end{question}
\begin{solution}
    Consider the graph\footnote{Read more about graphs and chromatic
    polynomials on page \pageref{teq: DC}.} $G$ formed by the diagonals of the
    pentagon. We just need to find the chromatic polynomial of this graph.
    Notice that this graph can be `unfolded'\footnote{In technical jargon, we
    say that these two graphs are isomorphic.} to form a regular pentagon
    $C_5$. It is easy to see that the chromatic polynomial of this graph does
    not change in this process (Convince yourself why this is true.) By
    \hyperref[teq: DC]{deletion-contraction},
    \[ P(C_5, 6) = P(P_5, 6) - P(C_4, 6). \]
    We can use deletion-contraction again on $P(C_4, 6)$ to get
    \[ P(C_5, 6) = P(P_5, 6) - P(P_4, 6) + P(C_3, 6). \]
    At this point, we can just calculate each term manually. For $P(P_5, 6)$,
    there are 6 colour choices for the first position, and 5 choices each for
    the other positions. A similar thing is true for $P(P_4, 6)$. Finally, for
    $P(C_3, 6)$, there are 6 choices for the first vertex, 5 choices for the
    second vertex and 4 choices for the third vertex. Therefore,
    \[ P(C_5, 6) = 6 \cdot 5^4 - 6 \cdot 5^2 + 6 \cdot 5 \cdot 4 = 3120. \qedhere \]
\end{solution}
